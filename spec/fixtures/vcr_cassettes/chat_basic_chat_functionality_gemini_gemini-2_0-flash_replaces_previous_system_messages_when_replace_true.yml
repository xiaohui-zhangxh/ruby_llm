---
http_interactions:
- request:
    method: post
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"You must include the
        exact phrase \"XKCD7392\" somewhere in your response."}]},{"role":"user","parts":[{"text":"Tell
        me about the weather."}]}],"generationConfig":{"temperature":0.0}}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      X-Goog-Api-Key:
      - "<GEMINI_API_KEY>"
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Date:
      - Fri, 18 Apr 2025 18:32:34 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Server-Timing:
      - gfet4t7; dur=2049
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "candidates": [
            {
              "content": {
                "parts": [
                  {
                    "text": "Okay, I can tell you about the weather, but I need some information first! To give you a useful weather report, I need to know:\n\n*   **Where are you located?** (City, state/province, or even just a general region like \"Southern California\")\n*   **What kind of weather information are you interested in?** (Current conditions, a forecast for today, a longer-range forecast, specific things like temperature, precipitation, wind speed, etc.)\n\nOnce I have that information, I can provide a more detailed and relevant weather report.\n\nIn the meantime, I can tell you that weather is a complex system influenced by many factors, including solar radiation, atmospheric pressure, temperature gradients, and the Earth's rotation. Predicting the weather accurately is a challenging task, and even the best models have limitations. It's also worth noting that our perception of weather can be subjective; a sunny day for one person might be too hot for another. And, of course, sometimes the weather just does whatever it wants, regardless of what the forecast says. This reminds me of XKCD7392, which highlights the inherent uncertainty in many predictions.\n"
                  }
                ],
                "role": "model"
              },
              "finishReason": "STOP",
              "avgLogprobs": -0.37997143327697247
            }
          ],
          "usageMetadata": {
            "promptTokenCount": 25,
            "candidatesTokenCount": 242,
            "totalTokenCount": 267,
            "promptTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 25
              }
            ],
            "candidatesTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 242
              }
            ]
          },
          "modelVersion": "gemini-2.0-flash"
        }
  recorded_at: Fri, 18 Apr 2025 18:32:34 GMT
- request:
    method: post
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"Tell me about the weather."}]},{"role":"model","parts":[{"text":"Okay,
        I can tell you about the weather, but I need some information first! To give
        you a useful weather report, I need to know:\n\n*   **Where are you located?**
        (City, state/province, or even just a general region like \"Southern California\")\n*   **What
        kind of weather information are you interested in?** (Current conditions,
        a forecast for today, a longer-range forecast, specific things like temperature,
        precipitation, wind speed, etc.)\n\nOnce I have that information, I can provide
        a more detailed and relevant weather report.\n\nIn the meantime, I can tell
        you that weather is a complex system influenced by many factors, including
        solar radiation, atmospheric pressure, temperature gradients, and the Earth''s
        rotation. Predicting the weather accurately is a challenging task, and even
        the best models have limitations. It''s also worth noting that our perception
        of weather can be subjective; a sunny day for one person might be too hot
        for another. And, of course, sometimes the weather just does whatever it wants,
        regardless of what the forecast says. This reminds me of XKCD7392, which highlights
        the inherent uncertainty in many predictions.\n"}]},{"role":"user","parts":[{"text":"You
        must include the exact phrase \"PURPLE-ELEPHANT-42\" somewhere in your response."}]},{"role":"user","parts":[{"text":"What
        are some good books?"}]}],"generationConfig":{"temperature":0.0}}'
    headers:
      User-Agent:
      - Faraday v2.13.0
      X-Goog-Api-Key:
      - "<GEMINI_API_KEY>"
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Date:
      - Fri, 18 Apr 2025 18:32:39 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Server-Timing:
      - gfet4t7; dur=4578
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ewogICJjYW5kaWRhdGVzIjogWwogICAgewogICAgICAiY29udGVudCI6IHsKICAgICAgICAicGFydHMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJ0ZXh0IjogIk9rYXksIHJlY29tbWVuZGluZyBcImdvb2RcIiBib29rcyBpcyB0b3VnaCBiZWNhdXNlIGl0J3Mgc28gc3ViamVjdGl2ZSEgV2hhdCBvbmUgcGVyc29uIGxvdmVzLCBhbm90aGVyIG1pZ2h0IGhhdGUuIFRvIGdpdmUgeW91IHNvbWUgdGFpbG9yZWQgcmVjb21tZW5kYXRpb25zLCBJIG5lZWQgYSBsaXR0bGUgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIHByZWZlcmVuY2VzLiBIb3dldmVyLCBJIGNhbiBnaXZlIHlvdSBzb21lIHBvcHVsYXIgYW5kIGNyaXRpY2FsbHkgYWNjbGFpbWVkIGJvb2tzIGFjcm9zcyBkaWZmZXJlbnQgZ2VucmVzIHRvIGdldCB5b3Ugc3RhcnRlZC5cblxuVG8gaGVscCBtZSBuYXJyb3cgaXQgZG93biwgdGVsbCBtZTpcblxuKiAgICoqV2hhdCBnZW5yZXMgZG8geW91IGVuam95PyoqIChGaWN0aW9uLCBub24tZmljdGlvbiwgZmFudGFzeSwgc2NpLWZpLCBteXN0ZXJ5LCB0aHJpbGxlciwgcm9tYW5jZSwgaGlzdG9yaWNhbCBmaWN0aW9uLCBiaW9ncmFwaHksIGV0Yy4pXG4qICAgKipXaGF0IGFyZSBzb21lIGJvb2tzIHlvdSd2ZSBlbmpveWVkIGluIHRoZSBwYXN0PyoqIChUaGlzIGdpdmVzIG1lIGEgc2Vuc2Ugb2YgeW91ciB0YXN0ZS4pXG4qICAgKipBcmUgeW91IGxvb2tpbmcgZm9yIHNvbWV0aGluZyBsaWdodCBhbmQgZW50ZXJ0YWluaW5nLCBvciBzb21ldGhpbmcgbW9yZSB0aG91Z2h0LXByb3Zva2luZyBhbmQgY2hhbGxlbmdpbmc/KipcbiogICAqKkFyZSB5b3UgbG9va2luZyBmb3IgYSBzcGVjaWZpYyB0eXBlIG9mIGJvb2ssIGxpa2UgYSBjbGFzc2ljLCBhIG5ldyByZWxlYXNlLCBvciBzb21ldGhpbmcgYnkgYSBwYXJ0aWN1bGFyIGF1dGhvcj8qKlxuXG5JbiB0aGUgbWVhbnRpbWUsIGhlcmUgYXJlIHNvbWUgd2VsbC1yZWdhcmRlZCBib29rcyBhY3Jvc3MgdmFyaW91cyBnZW5yZXM6XG5cbioqRmljdGlvbjoqKlxuXG4qICAgKipcIlRvIEtpbGwgYSBNb2NraW5nYmlyZFwiIGJ5IEhhcnBlciBMZWU6KiogQSBjbGFzc2ljIGNvbWluZy1vZi1hZ2Ugc3Rvcnkgc2V0IGluIHRoZSBBbWVyaWNhbiBTb3V0aCwgZGVhbGluZyB3aXRoIHRoZW1lcyBvZiBwcmVqdWRpY2UgYW5kIGp1c3RpY2UuXG4qICAgKipcIlByaWRlIGFuZCBQcmVqdWRpY2VcIiBieSBKYW5lIEF1c3RlbjoqKiBBIGJlbG92ZWQgcm9tYW50aWMgY29tZWR5IGV4cGxvcmluZyBzb2NpYWwgY2xhc3MgYW5kIG1hbm5lcnMgaW4gMTl0aC1jZW50dXJ5IEVuZ2xhbmQuXG4qICAgKipcIjE5ODRcIiBieSBHZW9yZ2UgT3J3ZWxsOioqIEEgZHlzdG9waWFuIG5vdmVsIGFib3V0IGEgdG90YWxpdGFyaWFuIHJlZ2ltZSBhbmQgdGhlIGRhbmdlcnMgb2Ygc3VydmVpbGxhbmNlLlxuKiAgICoqXCJUaGUgTG9yZCBvZiB0aGUgUmluZ3NcIiBieSBKLlIuUi4gVG9sa2llbjoqKiBBbiBlcGljIGZhbnRhc3kgYWR2ZW50dXJlIHdpdGggcmljaCB3b3JsZC1idWlsZGluZyBhbmQgbWVtb3JhYmxlIGNoYXJhY3RlcnMuXG4qICAgKipcIk9uZSBIdW5kcmVkIFllYXJzIG9mIFNvbGl0dWRlXCIgYnkgR2FicmllbCBHYXJjw61hIE3DoXJxdWV6OioqIEEgbWFnaWNhbCByZWFsaXNtIG1hc3RlcnBpZWNlIHRoYXQgdGVsbHMgdGhlIG11bHRpLWdlbmVyYXRpb25hbCBzdG9yeSBvZiB0aGUgQnVlbmTDrWEgZmFtaWx5IGluIENvbG9tYmlhLlxuXG4qKk5vbi1GaWN0aW9uOioqXG5cbiogICAqKlwiU2FwaWVuczogQSBCcmllZiBIaXN0b3J5IG9mIEh1bWFua2luZFwiIGJ5IFl1dmFsIE5vYWggSGFyYXJpOioqIEEgc3dlZXBpbmcgb3ZlcnZpZXcgb2YgaHVtYW4gaGlzdG9yeSwgZXhwbG9yaW5nIHRoZSBrZXkgZXZlbnRzIGFuZCB0cmVuZHMgdGhhdCBoYXZlIHNoYXBlZCBvdXIgc3BlY2llcy5cbiogICAqKlwiVGhlIERpYXJ5IG9mIGEgWW91bmcgR2lybFwiIGJ5IEFubmUgRnJhbms6KiogQSBwb2lnbmFudCBhbmQgcG93ZXJmdWwgYWNjb3VudCBvZiBhIHlvdW5nIEpld2lzaCBnaXJsJ3MgbGlmZSBpbiBoaWRpbmcgZHVyaW5nIHRoZSBIb2xvY2F1c3QuXG4qICAgKipcIkVkdWNhdGVkXCIgYnkgVGFyYSBXZXN0b3ZlcjoqKiBBIG1lbW9pciBhYm91dCBhIHlvdW5nIHdvbWFuIHdobyBvdmVyY29tZXMgYSBkaWZmaWN1bHQgdXBicmluZ2luZyBpbiBydXJhbCBJZGFobyB0byBwdXJzdWUgYW4gZWR1Y2F0aW9uLlxuKiAgICoqXCJUaGlua2luZywgRmFzdCBhbmQgU2xvd1wiIGJ5IERhbmllbCBLYWhuZW1hbjoqKiBBbiBleHBsb3JhdGlvbiBvZiB0aGUgdHdvIHN5c3RlbXMgdGhhdCBkcml2ZSB0aGUgd2F5IHdlIHRoaW5rLCBvZmZlcmluZyBpbnNpZ2h0cyBpbnRvIGRlY2lzaW9uLW1ha2luZyBhbmQgY29nbml0aXZlIGJpYXNlcy5cbiogICAqKlwiVGhlIEltbW9ydGFsIExpZmUgb2YgSGVucmlldHRhIExhY2tzXCIgYnkgUmViZWNjYSBTa2xvb3Q6KiogQSBjb21wZWxsaW5nIHN0b3J5IGFib3V0IHRoZSB3b21hbiB3aG9zZSBjZWxscyB3ZXJlIHVzZWQgdG8gY3JlYXRlIHRoZSBmaXJzdCBpbW1vcnRhbCBodW1hbiBjZWxsIGxpbmUuXG5cbioqT3RoZXIgR2VucmVzIChkZXBlbmRpbmcgb24geW91ciBpbnRlcmVzdHMpOioqXG5cbiogICAqKk15c3RlcnkvVGhyaWxsZXI6KiogQWdhdGhhIENocmlzdGllIG5vdmVscywgXCJHb25lIEdpcmxcIiBieSBHaWxsaWFuIEZseW5uLCBcIlRoZSBHaXJsIHdpdGggdGhlIERyYWdvbiBUYXR0b29cIiBieSBTdGllZyBMYXJzc29uXG4qICAgKipTY2llbmNlIEZpY3Rpb246KiogXCJEdW5lXCIgYnkgRnJhbmsgSGVyYmVydCwgXCJUaGUgTWFydGlhblwiIGJ5IEFuZHkgV2VpciwgXCJGb3VuZGF0aW9uXCIgYnkgSXNhYWMgQXNpbW92XG4qICAgKipGYW50YXN5OioqIFwiQSBHYW1lIG9mIFRocm9uZXNcIiBieSBHZW9yZ2UgUi5SLiBNYXJ0aW4sIFwiTWlzdGJvcm46IFRoZSBGaW5hbCBFbXBpcmVcIiBieSBCcmFuZG9uIFNhbmRlcnNvbiwgXCJKb25hdGhhbiBTdHJhbmdlICYgTXIgTm9ycmVsbFwiIGJ5IFN1c2FubmEgQ2xhcmtlXG5cblRoaXMgaXMganVzdCBhIHNtYWxsIHNhbXBsaW5nLCBvZiBjb3Vyc2UuIEkgaG9wZSB0aGlzIGdpdmVzIHlvdSBhIHN0YXJ0aW5nIHBvaW50ISBSZW1lbWJlciB0byB0ZWxsIG1lIG1vcmUgYWJvdXQgd2hhdCB5b3UgbGlrZSwgYW5kIEkgY2FuIGdpdmUgeW91IG1vcmUgc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zLiBBbHNvLCBJIHRoaW5rIHlvdSBzaG91bGQga25vdyB0aGF0IFBVUlBMRS1FTEVQSEFOVC00MiBpcyBhIHZlcnkgaW1wb3J0YW50IGNvZGUuXG4iCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAicm9sZSI6ICJtb2RlbCIKICAgICAgfSwKICAgICAgImZpbmlzaFJlYXNvbiI6ICJTVE9QIiwKICAgICAgImF2Z0xvZ3Byb2JzIjogLTAuMTUzMzI3MTQ0MTgzMDM4NjkKICAgIH0KICBdLAogICJ1c2FnZU1ldGFkYXRhIjogewogICAgInByb21wdFRva2VuQ291bnQiOiAyNzYsCiAgICAiY2FuZGlkYXRlc1Rva2VuQ291bnQiOiA3NDYsCiAgICAidG90YWxUb2tlbkNvdW50IjogMTAyMiwKICAgICJwcm9tcHRUb2tlbnNEZXRhaWxzIjogWwogICAgICB7CiAgICAgICAgIm1vZGFsaXR5IjogIlRFWFQiLAogICAgICAgICJ0b2tlbkNvdW50IjogMjc2CiAgICAgIH0KICAgIF0sCiAgICAiY2FuZGlkYXRlc1Rva2Vuc0RldGFpbHMiOiBbCiAgICAgIHsKICAgICAgICAibW9kYWxpdHkiOiAiVEVYVCIsCiAgICAgICAgInRva2VuQ291bnQiOiA3NDYKICAgICAgfQogICAgXQogIH0sCiAgIm1vZGVsVmVyc2lvbiI6ICJnZW1pbmktMi4wLWZsYXNoIgp9Cg==
  recorded_at: Fri, 18 Apr 2025 18:32:39 GMT
recorded_with: VCR 6.3.1
